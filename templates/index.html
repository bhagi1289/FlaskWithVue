{% extends "layout.html" %}

{% block content %}
<!-- Masthead-->
<header class="masthead bg-primary text-white text-center">
    <div class="container d-flex align-items-center flex-column">
        <!-- Masthead Avatar Image-->
        <img class="masthead-avatar mb-5" src="./static/assets/img/avataaars.svg" alt="" />
        <!-- Masthead Heading-->
        <h1 class="masthead-heading text-uppercase mb-0">Start Bootstrap</h1>
        <!-- Icon Divider-->
        <div class="divider-custom divider-light">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
            <div class="divider-custom-line"></div>
        </div>
        <!-- Masthead Subheading-->
        <p class="masthead-subheading font-weight-light mb-0">Graphic Artist - Web Designer - Illustrator</p>
    </div>
</header>
<!-- Portfolio Section-->
<section class="page-section portfolio" id="portfolio">
    <div class="container">
        <!-- Portfolio Section Heading-->
        <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Portfolio</h2>
        <!-- Icon Divider-->
        <div class="divider-custom">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
            <div class="divider-custom-line"></div>
        </div>
        <!-- Portfolio Grid Items-->
        <div class="row justify-content-center">
            <div id="app">
                <h1>[[ title ]]</h1>
                <h2>[[ genre ]]</h2>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block scripts %}
    <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>
    <script>
        var app = new Vue({
            el:"#app",
            delimiters: ['[[', ']]'],
            data:{
                title: "",
                genre: "",

            },
            methods:{
                fetchData: function(){
                    var data = {};
                    this.$http.get('/test').then( response =>{
                        // return response.body
                        this.title = response.body.title;
                        this.genre = response.body.genre;
                    }, response =>{
                        console.log(response);
                    })
                }
            },
            mounted: function(){
                this.fetchData();
            }
        });
    </script>
{% endblock %}